import matplotlib.pyplot as plt
import sys
import json

def main():

    # Sample data for testing
    rho_record = [0.31682965, 0.0, 0.0, 0.0, 0.0, 0.1279401, 0.18901391, 0.64077926, 0.0, 0.0, 
                    0.4135728, 0.5086107, 0.51161283, 1.0, 0.6921796, 0.08030772, 0.31398684, 
                    0.029802773, 0.0, 0.014833737, 0.4240799, 0.22824396, 0.0, 0.2889481, 
                    0.42257112, 0.18069248, 0.49144885, 0.99949485, 0.41742668, 0.25460204, 
                    0.0, 0.5426637, 0.72686046, 0.023129452, 0.27378386, 0.61980975, 0.005520772, 
                    0.29758802, 0.0, 0.0, 0.0, 0.0, 0.033939768, 0.49114162, 0.0, 0.0, 0.0, 0.0, 
                    0.0, 0.62175554, 0.18359174, 0.3774517, 0.37569472, 0.0, 0.0, 0.0, 0.09848255, 
                    0.46942642, 0.0, 0.08483252, 0.34267434, 0.13436814, 0.36276582, 0.690061, 
                    0.74419636, 1.0, 0.6961501, 0.58762664, 0.20982513, 0.0, 0.22252022, 0.1784646, 
                    0.1777051, 0.6365635, 0.51798654, 0.06666364, 0.4202138, 0.0, 0.19022822, 
                    0.5376939, 0.44448775, 0.40702876, 0.0, 0.0, 0.29699093, 0.40091762, 0.0, 0.0, 
                    0.0, 0.0, 0.4305037, 0.0, 0.0, 0.47868285, 1.0, 0.82021457, 0.48503032, 
                    0.28208125, 0.37312716, 0.38970158]

    print("average rho: ", sum(rho_record) / len(rho_record))

    # Create a figure and plot the rho_record trend
    plt.figure(figsize=(10, 6))
    plt.plot(rho_record, marker='o', linestyle='-', color='blue')
    
    plt.xlabel("Trade Step")
    plt.ylabel("Dynamic Rho Value")
    plt.title("Trend of Dynamic Rho during Testing")
    
    plt.grid(True)
    plt.tight_layout()
    
    plt.show()

if __name__ == "__main__":
    main()
